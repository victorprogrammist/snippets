
Функция   РазделитьРеквизиты(стр, разделитель = ",") Экспорт
	
	Если ТипЗнч(стр) = Тип("Массив") Тогда
		возврат стр;
	КонецЕсли;
	
	ма_рез = новый Массив;
	Для каждого с из СтрРазделить(стр, разделитель, ложь) цикл
		сс = СокрЛП(с);
		Если сс <> "" Тогда
			ма_рез.Добавить(сс);
		КонецЕсли;
	КонецЦикла;
	
	возврат ма_рез;
КонецФункции

Функция   ЕстьЗаполнение_ТолькоТест(о, рекв) Экспорт
	рез = Истина;
	Для каждого рекв из РазделитьРеквизиты(рекв) Цикл
		зн = о[рекв];
		Если НЕ ЗначениеЗаполнено(зн) Тогда
			сообщить("Не указан: "+рекв);
			рез = Ложь;
		КонецЕсли;
	КонецЦикла;
	возврат Рез;
КонецФункции

Функция   ЕстьЗаполнение(о, Отказ, рекв) Экспорт
	
	рез = ЕстьЗаполнение_ТолькоТест(о, рекв);
	Если НЕ рез Тогда
		Отказ = Истина;
	КонецЕсли;
	
	возврат рез;
КонецФункции

&НаСервере
Функция   БудетПроведен(Объект, РежимЗаписи) Экспорт
	возврат
	РежимЗаписи = РежимЗаписиДокумента.Проведение
	ИЛИ (Объект.Проведен И НЕ РежимЗаписи = РежимЗаписиДокумента.ОтменаПроведения);
КонецФункции

&НаСервере
Функция   БылПроведен(Объект) Экспорт
	Если Объект.Ссылка.Пустая() Тогда
		возврат Ложь;
	КонецЕсли;
	возврат ГетРекв(Объект.Ссылка, "Проведен");
КонецФункции

Функция   ПериодСтр(дд1, дд2) Экспорт
	Если НачалоДня(дд1) = НачалоДня(дд2) Тогда
		возврат Формат(дд1, "ДФ=dd.MM.yyyy")
	ИначеЕсли НачалоДня(дд1) = НачалоМесяца(дд1) И КонецДня(дд2) = КонецМесяца(дд2) И НачалоМесяца(дд1) = НачалоМесяца(дд2) Тогда
		возврат СтрЗаменить(Формат(дд1, "ДФ=ММММ.гггг"), ".", " ");
	Иначе
		возврат Формат(дд1, "ДФ=dd.MM.yyyy") + " - "+Формат(дд2,"ДФ=dd.MM.yyyy");
	КонецЕсли;
КонецФункции

